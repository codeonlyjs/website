var ft=Object.defineProperty;var Xe=o=>{throw TypeError(o)};var pt=(o,e,t)=>e in o?ft(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var K=(o,e,t)=>pt(o,typeof e!="symbol"?e+"":e,t),ke=(o,e,t)=>e.has(o)||Xe("Cannot "+t);var l=(o,e,t)=>(ke(o,e,"read from private field"),t?t.call(o):e.get(o)),C=(o,e,t)=>e.has(o)?Xe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t),b=(o,e,t,n)=>(ke(o,e,"write to private field"),n?n.call(o,t):e.set(o,t),t),_=(o,e,t)=>(ke(o,e,"access private method"),t);var be=(o,e,t,n)=>({set _(i){b(o,e,i,t)},get _(){return l(o,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();let E=null;var H;class mt extends EventTarget{constructor(){super();C(this,H,0);this.browser=!1}enterLoading(){be(this,H)._++,l(this,H)==1&&this.dispatchEvent(new Event("loading"))}leaveLoading(){be(this,H)._--,l(this,H)==0&&this.dispatchEvent(new Event("loaded"))}get loading(){return l(this,H)!=0}async load(t){this.enterLoading();try{return await t()}finally{this.leaveLoading()}}}H=new WeakMap;function gt(o){E=o}class P{constructor(e){this.html=e}}class yt{constructor(e){this.value=e}}let Ye=[],Te=[],ve=null;class bt{static declare(e){Ye.push(e),Te.push(e),E.browser&&E.requestAnimationFrame(vt)}static get all(){return Ye.join(`
`)}}function vt(){Te.length!=0&&(ve==null&&(ve=document.createElement("style")),ve.innerHTML+=Te.join(`
`),Te=[],ve.parentNode||document.head.appendChild(ve))}let Se=[],Be=!1;function $t(o,e){o&&(e=e??0,e!=0&&(Be=!0),Se.push({callback:o,order:e}),Se.length==1&&E.requestAnimationFrame(function(){let t=Se;Be&&(t.sort((n,i)=>i.order-n.order),Be=!1),Se=[];for(let n=t.length-1;n>=0;n--)t[n].callback()}))}class Nt{static compile(){return E.compileTemplate(...arguments)}}var F,ie,G,$e;const W=class W extends EventTarget{constructor(){super();C(this,F);C(this,ie,null);C(this,G,0);C(this,$e,!1);this.update=this.update.bind(this),this.invalidate=this.invalidate.bind(this)}static get domTreeConstructor(){return this._domTreeConstructor||(this._domTreeConstructor=this.onProvideDomTreeConstructor()),this._domTreeConstructor}static onProvideDomTreeConstructor(){return Nt.compile(this.onProvideTemplate())}static onProvideTemplate(){return this.template}static get isSingleRoot(){return this.domTreeConstructor.isSingleRoot}create(){l(this,F)||b(this,F,new this.constructor.domTreeConstructor({model:this}))}get created(){return l(this,F)!=null}get domTree(){return l(this,F)||this.create(),l(this,F)}get isSingleRoot(){return this.domTree.isSingleRoot}get rootNode(){if(!this.isSingleRoot)throw new Error("rootNode property can't be used on multi-root template");return this.domTree.rootNode}get rootNodes(){return this.domTree.rootNodes}invalidate(){l(this,F)&&(this.invalid||(this.invalid=!0,W.invalidate(this)))}validate(){this.invalid&&this.update()}static invalidate(t){this._invalidComponents.push(t),this._invalidComponents.length==1&&$t(()=>{for(let n=0;n<this._invalidComponents.length;n++)this._invalidComponents[n].validate();this._invalidComponents=[]},W.nextFrameOrder)}update(){l(this,F)&&(this.invalid=!1,this.domTree.update())}get loadError(){return l(this,ie)}set loadError(t){b(this,ie,t),this.invalidate()}get loading(){return l(this,G)!=0}set loading(t){throw new Error("setting Component.loading not supported, use load() function")}async load(t){be(this,G)._++,l(this,G)==1&&(b(this,ie,null),this.invalidate(),E.enterLoading(),this.dispatchEvent(new Event("loading")));try{return await t()}catch(n){b(this,ie,n)}finally{be(this,G)._--,l(this,G)==0&&(this.invalidate(),this.dispatchEvent(new Event("loaded")),E.leaveLoading())}}render(t){this.domTree.render(t)}destroy(){l(this,F)&&(l(this,F).destroy(),b(this,F,null))}onMount(){}onUnmount(){}get mounted(){return l(this,$e)}setMounted(t){var n;(n=l(this,F))==null||n.setMounted(t),b(this,$e,t),t?this.onMount():this.onUnmount()}mount(t){return typeof t=="string"&&(t=document.querySelector(t)),t.append(...this.rootNodes),this.setMounted(!0),this}unmount(){l(this,F)&&this.rootNodes.forEach(t=>t.remove()),this.setMounted(!1)}};F=new WeakMap,ie=new WeakMap,G=new WeakMap,$e=new WeakMap,K(W,"_domTreeConstructor"),K(W,"nextFrameOrder",-100),K(W,"_invalidComponents",[]),K(W,"template",{});let Ie=W;class Re{static embed(e){return{type:"embed-slot",content:e}}static h(e,t){return{type:`h${e}`,text:t}}static p(e){return{type:"p",text:e}}static a(e,t){return{type:"a",attr_href:e,text:t}}static raw(e){return new P(e)}}function Le(o){return o==null?"":(""+o).replace(/["'&<>]/g,function(e){switch(e){case'"':return"&quot;";case"&":return"&amp;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;"}})}function Oe(o){return o.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function Pe(o){return o instanceof Function&&!!o.prototype&&!!o.prototype.constructor}let wt=/^[a-zA-Z$][a-zA-Z0-9_$]*$/;function ee(o){return o.match(wt)?`.${o}`:`[${JSON.stringify(o)}]`}function kt(o,e){o.loading?o.addEventListener("loaded",e,{once:!0}):e()}function xt(o,e){let t,n,i=[],a=[],d=[],h=!1;function p(c){return o.classNames?o.classNames[c]:`${o.cssClassPrefix??"tx"}-${c}`}function m(c,x,k){requestAnimationFrame(()=>requestAnimationFrame(()=>{c.forEach(B=>{var xe,Ce;(xe=B.classList)==null||xe.add(p(x)),(Ce=B.classList)==null||Ce.remove(p(k))})})),d.push(...c)}function $(){i.forEach(c=>{var x;return(x=c.classList)==null?void 0:x.add(p("entering"),p("enter-start"))}),t==null||t(),t=null,m(i,"enter-end","enter-start")}function u(){i==null||i.forEach(c=>{var x;(x=c.classList)==null||x.remove(p("enter-start"),p("entering"),p("enter-end"))})}function N(){a.forEach(c=>{var x;return(x=c.classList)==null?void 0:x.add(p("leaving"),p("leave-start"))}),m(a,"leave-end","leave-start")}function r(){a.forEach(c=>{var x;(x=c.classList)==null||x.remove(p("leave-start"),p("leaving"),p("leave-end"))}),n==null||n(),n=null}function M(){return new Promise((c,x)=>{requestAnimationFrame(()=>requestAnimationFrame(()=>{requestAnimationFrame(()=>{let k=[];for(let B of d)B.nodeType==1&&k.push(...B.getAnimations({subtree:!0}));d=[],Promise.allSettled(k.map(B=>B.finished)).then(c)})}))})}async function A(){var x,k;let c=o.mode;switch(c instanceof Function&&(c=c(e.model,e)),c){case"enter-leave":case"leave-enter":break;default:c="";break}(x=o.on_start)==null||x.call(o,e.model,e),(c==""||c=="enter-leave")&&$(),(c==""||c=="leave-enter")&&N(),await M(),!h&&(c!=""?(c=="enter-leave"?(N(),u()):c=="leave-enter"&&($(),r()),await M()):(u(),r()),h=!0,(k=o.on_finish)==null||k.call(o,e.model,e))}function f(){var c;h||(h=!0,t==null||t(),u(),r(),(c=o.on_cancel)==null||c.call(o,e.model,e))}return{enterNodes:function(c){i.push(...c)},leaveNodes:function(c){a.push(...c)},onWillEnter:function(c){t=c},onDidLeave:function(c){n=c},start:A,finish:f}}function Bt(o,e){let t;o instanceof Function?t={value:o,cssClassPrefix:e}:t=o;let n=function(){return t.value(...arguments)};return n.withTransition=function(i){return t.factory?t.construct(t,i):xt(t,i)},n}let Ct={enterNodes:function(){},leaveNodes:function(){},onWillEnter:function(o){o()},onDidLeave:function(o){o()},start:function(){},finish:function(){}};function _e(){let o=[],e="";function t(...m){for(let $=0;$<m.length;$++){let u=m[$];u.lines?o.push(...u.lines.map(N=>e+N)):Array.isArray(u)?o.push(...u.filter(N=>N!=null).map(N=>e+N)):o.push(...u.split(`
`).map(N=>e+N))}}function n(){e+="  "}function i(){e=e.substring(2)}function a(){return o.join(`
`)+`
`}function d(m){t("{"),n(),m(this),i(),t("}")}function h(...m){let $={pos:this.lines.length};return this.append(m),$.headerLineCount=this.lines.length-$.pos,$}function p(m,...$){this.lines.length==m.pos+m.headerLineCount?this.lines.splice(m.pos,m.headerLineCount):this.append($)}return{append:t,enterCollapsibleBlock:h,leaveCollapsibleBlock:p,indent:n,unindent:i,braced:d,toString:a,lines:o,get isEmpty(){return o.length==0}}}class Ve{constructor(){this.code=_e(),this.code.closure=this,this.functions=[],this.locals=[],this.prologs=[],this.epilogs=[]}get isEmpty(){return this.code.isEmpty&&this.locals.length==0&&this.functions.every(e=>e.code.isEmpty)&&this.prologs.every(e=>e.isEmpty)&&this.epilogs.every(e=>e.isEmpty)}addProlog(){let e=_e();return this.prologs.push(e),e}addEpilog(){let e=_e();return this.epilogs.push(e),e}addLocal(e,t){this.locals.push({name:e,init:t})}addFunction(e,t){t||(t=[]);let n={name:e,args:t,code:new Ve};return this.functions.push(n),n.code}getFunction(e){var t;return(t=this.functions.find(n=>n.name==e))==null?void 0:t.code}toString(){let e=_e();return this.appendTo(e),e.toString()}appendTo(e){this.locals.length>0&&e.append(`let ${this.locals.map(t=>t.init?`${t.name} = ${t.init}`:t.name).join(", ")};`);for(let t of this.prologs)e.append(t);e.append(this.code);for(let t of this.functions)e.append(`function ${t.name}(${t.args.join(", ")})`),e.append("{"),e.indent(),t.code.appendTo(e),e.unindent(),e.append("}");for(let t of this.epilogs)e.append(t)}}class U{static rawText(e){return e instanceof P?e.html:Le(e)}static renderToString(e){let t="";return e({write:function(n){t+=n}}),t}static renderComponentToString(e){let t="";return e.render({write:function(n){t+=n}}),t}static rawStyle(e){let t;return e instanceof P?t=e.html:t=Le(e),t=t.trim(),t.endsWith(";")||(t+=";"),t}static rawNamedStyle(e,t){if(!t)return"";let n;return t instanceof P?n=t.html:n=Le(t),n=n.trim(),n+=";",`${e}:${n}`}static createTextNode(e){if(e instanceof P){let t=document.createElement("SPAN");return t.innerHTML=e.html,t}else return document.createTextNode(e)}static setElementAttribute(e,t,n){n===void 0?e.removeAttribute(t):e.setAttribute(t,n)}static setElementText(e,t){t instanceof P?e.innerHTML=t.html:e.innerText=t}static setNodeText(e,t){if(t instanceof P){if(e.nodeType==1)return e.innerHTML=t.html,e;let n=document.createElement("SPAN");return n.innerHTML=t.html,e.replaceWith(n),n}else{if(e.nodeType==3)return e.nodeValue=t,e;let n=document.createTextNode(t);return e.replaceWith(n),n}}static setNodeClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}static setNodeStyle(e,t,n){n==null?e.style.removeProperty(t):e.style[t]=n}static boolClassMgr(e,t,n,i){let a=null,d=i(e.model,e);return U.setNodeClass(t,n,d),function(){let p=i(e.model,e);p!=d&&(d=p,i.withTransition&&t.isConnected?(a==null||a.finish(),a=i.withTransition(e),p?(a.enterNodes([t]),a.onWillEnter(()=>t.classList.add(n))):(a.leaveNodes([t]),a.onDidLeave(()=>t.classList.remove(n))),a.start()):U.setNodeClass(t,n,p))}}static setNodeDisplay(e,t,n){if(t===!0){n===null?e.style.removeProperty("display"):n!==void 0&&e.style.display!=n&&(e.style.display=n);return}else if(t===!1||t===null||t===void 0){let i=e.style.display;return e.style.display!="none"&&(e.style.display="none"),i??null}else if(typeof t=="string"){let i=e.style.display;return e.style.display!=t&&(e.style.display=t),i??null}}static displayMgr(e,t,n){let i=null,a=n(e.model,e),d=U.setNodeDisplay(t,a,void 0),h;return E.browser&&(h=window.getComputedStyle(t).getPropertyValue("display")),function(){let m=n(e.model,e);if(m!=a){if(a=m,E.browser&&n.withTransition&&t.isConnected){i==null||i.finish();let $=window.getComputedStyle(t).getPropertyValue("display"),u;if(m===!0?u=h:m===!1||m===null||m===void 0?u="none":u=m,$=="none"!=(u=="none")){i=n.withTransition(e),u!="none"?(i.enterNodes([t]),i.onWillEnter(()=>d=U.setNodeDisplay(t,m,d))):(i.leaveNodes([t]),i.onDidLeave(()=>d=U.setNodeDisplay(t,m,d))),i.start();return}}d=U.setNodeDisplay(t,m,d)}}}static replaceMany(e,t){var n;if((n=e==null?void 0:e[0])!=null&&n.parentNode){e[0].replaceWith(...t);for(let i=1;i<e.length;i++)e[i].remove()}}static addEventListener(e,t,n,i){function a(d){return i(e(),d)}return t.addEventListener(n,a),function(){t.removeEventListener(n,a)}}}class ye{static register(e){this.plugins.push(e)}static transform(e){for(let t of this.plugins)t.transform&&(e=t.transform(e));return e}static transformGroup(e){var t;for(let n of this.plugins)(t=n.transformGroup)==null||t.call(n,e)}}K(ye,"plugins",[]);class Y{constructor(e,t){if(Array.isArray(e)&&(e={$:e}),e._&&!e.type&&(e.type=e._,delete e._),e=ye.transform(e),Pe(e)&&(e={type:e}),this.template=e,Pe(e.type))e.type.integrate?this.kind="integrated":this.kind="component";else if(typeof e=="string")this.kind="text";else if(e instanceof P){if(this.kind="html",this.html=e.html,E.document){let n=E.document.createElement("div");n.innerHTML=e.html,this.nodes=[...n.childNodes],this.nodes.forEach(i=>i.remove())}}else e instanceof Function?this.kind="dynamic_text":e.type==="#comment"?this.kind="comment":e.type===void 0?this.kind="fragment":this.kind="element";if(this.kind==="integrated"&&(e.$&&!e.content&&(e.content=e.$,delete e.$),this.integrated=this.template.type.integrate(this.template,t)),this.kind=="element"&&e.$&&!e.text&&(typeof e.$=="string"||e.$ instanceof P)&&(e.text=e.$,delete e.$),this.kind=="element"||this.kind=="fragment")e.$&&!e.childNodes&&(e.childNodes=e.$,delete e.$),e.childNodes?(Array.isArray(e.childNodes)?e.childNodes=e.childNodes.flat():e.childNodes=[e.childNodes],e.childNodes.forEach(n=>{n._&&!n.type&&(n.type=n._,delete n._)}),ye.transformGroup(e.childNodes),this.childNodes=this.template.childNodes.map(n=>new Y(n,t))):this.childNodes=[];else if(this.isComponent)e.$&&!e.content&&(e.content=e.$,delete e.$);else if(e.childNodes)throw new Error("childNodes only supported on element and fragment nodes")}get isSingleRoot(){return this.isFragment?this.childNodes.length==1&&this.childNodes[0].isSingleRoot:this.isComponent?this.template.type.isSingleRoot:this.isIntegrated?this.integrated.isSingleRoot:this.kind=="html"?this.nodes.length==1:!0}get isComponent(){return this.kind==="component"}get isFragment(){return this.kind==="fragment"}get isIntegrated(){return this.kind==="integrated"}*enumLocalNodes(){if(this.isFragment||(yield this),this.childNodes)for(let e=0;e<this.childNodes.length;e++)yield*this.childNodes[e].enumLocalNodes()}spreadChildDomNodes(){return Array.from(e(this)).filter(t=>t.length>0).join(", ");function*e(t){for(let n=0;n<t.childNodes.length;n++)yield t.childNodes[n].spreadDomNodes()}}spreadDomNodes(){return Array.from(this.enumAllNodes()).join(", ")}*enumAllNodes(){switch(this.kind){case"fragment":for(let e=0;e<this.childNodes.length;e++)yield*this.childNodes[e].enumAllNodes();break;case"component":case"integrated":this.isSingleRoot?yield`${this.name}.rootNode`:yield`...${this.name}.rootNodes`;break;case"html":this.nodes.length>0&&(this.nodes.length>1?yield`...${this.name}`:yield`${this.name}`);break;default:yield this.name}}}var O,J,D,se,R,oe,pe,z,V,Ne,je,me;const ue=class ue{constructor(e){C(this,Ne);C(this,O);C(this,J);C(this,D);C(this,se);C(this,R);C(this,oe);C(this,pe);C(this,z);C(this,V,!0);C(this,me);var t,n;b(this,O,e.context),b(this,pe,e.nodes[1]),b(this,se,(t=E.document)==null?void 0:t.createTextNode("")),b(this,oe,(n=E.document)==null?void 0:n.createTextNode("")),b(this,R,[]),b(this,V,e.data.ownsContent??!0),e.nodes[0]?this.content=e.nodes[0]():this.content=e.data.content}static integrate(e,t){let n=null;e.content&&typeof e.content=="object"&&(n=e.content,delete e.content);let i={isSingleRoot:!1,data:{ownsContent:e.ownsContent??!0,content:e.content},nodes:[n?new Y(n,t):null,e.placeholder?new Y(e.placeholder,t):null]};return delete e.content,delete e.placeholder,delete e.ownsContent,i}static transform(e){return e instanceof Function&&!Pe(e)?{type:ue,content:e}:(e.type=="embed-slot"&&(e.type=ue),e)}static transformGroup(e){for(let t=1;t<e.length;t++)e[t].else!==void 0&&(e[t-1]=ue.transform(e[t-1]),e[t-1].type===ue&&!e[t-1].placeholder&&(delete e[t].else,e[t-1].placeholder=e[t],e.splice(t,1),t--))}get rootNodes(){return[l(this,se),...l(this,R),l(this,oe)]}get isSingleRoot(){return!1}get ownsContent(){return l(this,V)}set ownsContent(e){b(this,V,e)}get content(){return l(this,J)}set content(e){b(this,J,e),l(this,J)instanceof Function?this.replaceContent(l(this,J).call(l(this,O).model,l(this,O).model,l(this,O))):this.replaceContent(l(this,J))}update(){l(this,J)instanceof Function&&this.replaceContent(l(this,J).call(l(this,O).model,l(this,O).model,l(this,O)))}bind(){var e,t;l(this,z)&&((t=(e=l(this,D))==null?void 0:e.bind)==null||t.call(e))}unbind(){var e,t;l(this,z)&&((t=(e=l(this,D))==null?void 0:e.unbind)==null||t.call(e))}get isAttached(){}setMounted(e){var t,n;b(this,me,e),(n=(t=l(this,D))==null?void 0:t.setMounted)==null||n.call(t,e)}replaceContent(e){var t,n,i,a,d,h;if(!(e==l(this,D)||!e&&l(this,z))){if(l(this,Ne,je)){let p=l(this,se).nextSibling;for(;p!=l(this,oe);){let m=p.nextSibling;p.remove(),p=m}}if(l(this,me)&&((n=(t=l(this,D))==null?void 0:t.setMounted)==null||n.call(t,!1)),b(this,R,[]),l(this,V)&&((a=(i=l(this,D))==null?void 0:i.destroy)==null||a.call(i)),b(this,D,e),b(this,z,!1),!e)l(this,pe)&&(b(this,D,l(this,pe).call(this,l(this,O))),b(this,z,!0),b(this,R,l(this,D).rootNodes));else if(e.rootNodes!==void 0)b(this,R,e.rootNodes);else if(Array.isArray(e))b(this,R,e);else if(E.Node!==void 0&&e instanceof E.Node)b(this,R,[e]);else if(e instanceof P){let p=E.document.createElement("span");p.innerHTML=e.html,b(this,R,[...p.childNodes])}else if(typeof e=="string")b(this,R,[E.document.createTextNode(e)]);else if(e.render)b(this,R,[]);else throw new Error("Embed slot requires component, array of HTML nodes or a single HTML node");l(this,Ne,je)&&l(this,oe).before(...l(this,R)),l(this,me)&&((h=(d=l(this,D))==null?void 0:d.setMounted)==null||h.call(d,!0))}}destroy(){var e,t;l(this,V)&&((t=(e=l(this,D))==null?void 0:e.destroy)==null||t.call(e))}render(e){var t,n;l(this,D)&&((n=(t=l(this,D)).render)==null||n.call(t,e))}};O=new WeakMap,J=new WeakMap,D=new WeakMap,se=new WeakMap,R=new WeakMap,oe=new WeakMap,pe=new WeakMap,z=new WeakMap,V=new WeakMap,Ne=new WeakSet,je=function(){var e;return((e=l(this,se))==null?void 0:e.parentNode)!=null},me=new WeakMap;let Je=ue;ye.register(Je);function St(o,e){let t=Math.min(o.length,e.length),n=Math.max(o.length,e.length),i=0;for(;i<t&&o[i]==e[i];)i++;if(i==n)return[];if(i==o.length)return[{op:"insert",index:o.length,count:e.length-o.length}];let a=0;for(;a<t-i&&o[o.length-a-1]==e[e.length-a-1];)a++;if(a==o.length)return[{op:"insert",index:0,count:e.length-o.length}];if(i+a==o.length)return[{op:"insert",index:i,count:e.length-o.length}];if(i+a==e.length)return[{op:"delete",index:i,count:o.length-e.length}];let d=o.length-a,h=e.length-a,p=A(e,i,h),m=null,$=[],u=i,N=i;for(;u<h;){for(;u<h&&o[N]==e[u];)p.delete(e[u],u),u++,N++;let f=u,c=N;for(;N<d&&!p.has(o[N]);)N++;if(N>c){$.push({op:"delete",index:f,count:N-c});continue}for(m||(m=A(o,u,d));u<h&&!m.has(e[u]);)p.delete(e[u],u),u++;if(u>f){$.push({op:"insert",index:f,count:u-f});continue}break}if(u==h)return $;let r=0,M=new Ke;for(;N<d;){let f=N;for(;N<d&&!p.has(o[N]);)N++;if(N>f){$.push({op:"delete",index:u,count:N-f});continue}for(;N<d&&p.consume(o[N])!==void 0;)M.add(o[N],r++),N++;N>f&&$.push({op:"store",index:u,count:N-f})}for(;u<h;){let f=u;for(;u<h&&!M.has(e[u]);)u++;if(u>f){$.push({op:"insert",index:f,count:u-f});continue}let c={op:"restore",index:u,count:0};for($.push(c);u<h;){let x=M.consume(e[u]);if(x===void 0)break;c.count==0?(c.storeIndex=x,c.count=1):c.storeIndex+c.count==x?c.count++:(c={op:"restore",index:u,storeIndex:x,count:1},$.push(c)),u++}}return $;function A(f,c,x){let k=new Ke;for(let B=c;B<x;B++)k.add(f[B],B);return k}}var Z;class Ke{constructor(){C(this,Z,new Map)}add(e,t){let n=l(this,Z).get(e);n?n.push(t):l(this,Z).set(e,[t])}delete(e,t){let n=l(this,Z).get(e);if(n){let i=n.indexOf(t);if(i>=0){n.splice(i,1);return}}throw new Error("key/value pair not found")}consume(e){let t=l(this,Z).get(e);if(!(!t||t.length==0))return t.shift()}has(e){return l(this,Z).has(e)}}Z=new WeakMap;var ge,j,I,y,qe,Me,Q,re,le,ae,te,tt,Ue,nt,We,it,He,st,Ge,ne;const fe=class fe{constructor(e){C(this,y);C(this,ge);C(this,j);C(this,I,!1);C(this,Q);C(this,re);C(this,le);C(this,ae);var t,n;this.itemConstructor=e.data.itemConstructor,this.outer=e.context,this.items=e.data.template.items,this.condition=e.data.template.condition,this.itemKey=e.data.template.itemKey,this.emptyConstructor=e.nodes.length?e.nodes[0]:null,this.itemDoms=[],b(this,ge,(t=E.document)==null?void 0:t.createComment(" enter foreach block ")),b(this,j,(n=E.document)==null?void 0:n.createComment(" leave foreach block ")),this.itemConstructor.isSingleRoot?(b(this,Q,_(this,y,it)),b(this,le,_(this,y,st)),b(this,re,_(this,y,He)),b(this,ae,_(this,y,Ge))):(b(this,Q,_(this,y,tt)),b(this,le,_(this,y,nt)),b(this,re,_(this,y,Ue)),b(this,ae,_(this,y,We)))}static integrate(e,t){let n={itemConstructor:t.compileTemplate(e.template),template:{items:e.items,condition:e.condition,itemKey:e.itemKey}},i;return e.empty&&(i=[new Y(e.empty,t)]),delete e.template,delete e.items,delete e.condition,delete e.itemKey,delete e.empty,{isSingleRoot:!1,data:n,nodes:i}}static transform(e){if(e.foreach===void 0)return e;let t;return e.foreach instanceof Function||Array.isArray(e.foreach)?(t={type:fe,template:e,items:e.foreach},delete e.foreach):(t=Object.assign({},e.foreach,{type:fe,template:e}),delete e.foreach),t}static transformGroup(e){for(let t=1;t<e.length;t++)e[t].else!==void 0&&(e[t-1].foreach!==void 0&&(e[t-1]=fe.transform(e[t-1])),e[t-1].type===fe&&!e[t-1].else&&(delete e[t].else,e[t-1].empty=e[t],e.splice(t,1),t--))}onObservableUpdate(e,t,n){let i={outer:this.outer};if(n==0&&t==0){let a=this.observableItems[e],d=[a],h=null;this.itemKey&&(i.model=a,h=[this.itemKey.call(a,a,i)]),_(this,y,ne).call(this,d,h,e,0,1)}else{let a=null,d=this.observableItems.slice(e,e+n);this.itemKey&&(a=d.map(h=>(i.model=h,this.itemKey.call(h,h,i)))),n&&t?_(this,y,qe).call(this,e,t,d,a):t!=0?l(this,le).call(this,e,t):n!=0&&l(this,Q).call(this,d,a,e,0,n),_(this,y,Me).call(this)}}get rootNodes(){let e=this.emptyDom?this.emptyDom.rootNodes:[];if(this.itemConstructor.isSingleRoot)return[l(this,ge),...this.itemDoms.map(t=>t.rootNode),...e,l(this,j)];{let t=[l(this,ge)];for(let n=0;n<this.itemDoms.length;n++)t.push(...this.itemDoms[n].rootNodes);return t.push(...e),t.push(l(this,j)),t}}setMounted(e){b(this,I,e),ce(this.itemDoms,e)}update(){let e;this.items instanceof Function?e=this.items.call(this.outer.model,this.outer.model,this.outer):e=this.items,e=e??[],this.observableItems!=null&&this.observableItems!=e&&this.observableItems.removeListener(this._onObservableUpdate),Array.isArray(e)&&e.isObservable&&this.observableItems!=e&&(this._onObservableUpdate=this.onObservableUpdate.bind(this),this.observableItems=e,this.observableItems.addListener(this._onObservableUpdate),l(this,le).call(this,0,this.itemDoms.length),this.itemsLoaded=!1);let t={outer:this.outer},n=null;if(this.observableItems||this.condition&&(e=e.filter(i=>(t.model=i,this.condition.call(i,i,t)))),this.itemKey&&(n=e.map(i=>(t.model=i,this.itemKey.call(i,i,t)))),!this.itemsLoaded){this.itemsLoaded=!0,l(this,Q).call(this,e,n,0,0,e.length),_(this,y,Me).call(this);return}this.observableItems||_(this,y,qe).call(this,0,this.itemDoms.length,e,n)}render(e){e.write("<!-- enter foreach block -->");for(let t=0;t<this.itemDoms.length;t++)this.itemDoms[t].render(e);e.write("<!-- leave foreach block -->")}bind(){var e,t;(t=(e=this.emptyDom)==null?void 0:e.bind)==null||t.call(e)}unbind(){var e,t;(t=(e=this.emptyDom)==null?void 0:e.unbind)==null||t.call(e)}destroy(){this.observableItems!=null&&(this.observableItems.removeListener(this._onObservableUpdate),this.observableItems=null),Ee(this.itemDoms),this.itemDoms=null}};ge=new WeakMap,j=new WeakMap,I=new WeakMap,y=new WeakSet,qe=function(e,t,n,i){let a=e+t,d;e==0&&t==this.itemDoms.length?d=this.itemDoms:d=this.itemDoms.slice(e,a);let h;if(i?h=St(d.map(f=>f.context.key),i):n.length>d.length?h=[{op:"insert",index:d.length,count:n.length-d.length}]:n.length<d.length?h=[{op:"delete",index:n.length,count:d.length-n.length}]:h=[],h.length==0){_(this,y,ne).call(this,n,i,e,0,t);return}let p=[],m=[],$={insert:N,delete:r,store:M,restore:A},u=0;for(let f of h)f.index>u&&(_(this,y,ne).call(this,n,i,e+u,u,f.index-u),u=f.index),$[f.op].call(this,f);u<n.length&&_(this,y,ne).call(this,n,i,e+u,u,n.length-u),l(this,I)&&ce(m,!1),Ee(m),_(this,y,Me).call(this);function N(f){u+=f.count;let c=Math.min(m.length,f.count);c&&(l(this,re).call(this,f.index+e,m.splice(0,c)),_(this,y,ne).call(this,n,i,f.index+e,f.index,c)),c<f.count&&l(this,Q).call(this,n,i,f.index+e+c,f.index+c,f.count-c)}function r(f){m.push(...l(this,ae).call(this,f.index+e,f.count))}function M(f){p.push(...l(this,ae).call(this,f.index+e,f.count))}function A(f){u+=f.count,l(this,re).call(this,f.index+e,p.slice(f.storeIndex,f.storeIndex+f.count)),_(this,y,ne).call(this,n,i,f.index+e,f.index,f.count)}},Me=function(){if(this.itemDoms.length==0)!this.emptyDom&&this.emptyConstructor&&(this.emptyDom=this.emptyConstructor(),l(this,y,te)&&l(this,j).before(...this.emptyDom.rootNodes),l(this,I)&&this.emptyDom.setMounted(!0)),this.emptyDom&&this.emptyDom.update();else if(this.emptyDom){if(l(this,y,te))for(var e of this.emptyDom.rootNodes)e.remove();l(this,I)&&this.emptyDome.setMounted(!1),this.emptyDom.destroy(),this.emptyDom=null}},Q=new WeakMap,re=new WeakMap,le=new WeakMap,ae=new WeakMap,te=function(){var e;return((e=l(this,j))==null?void 0:e.parentNode)!=null},tt=function(e,t,n,i,a){let d=[];for(let h=0;h<a;h++){let p={outer:this.outer,model:e[i+h],key:t==null?void 0:t[i+h],index:n+h};d.push(this.itemConstructor(p))}_(this,y,Ue).call(this,n,d),l(this,I)&&ce(d,!0)},Ue=function(e,t){if(this.itemDoms.splice(e,0,...t),l(this,y,te)){let n=[];t.forEach(a=>n.push(...a.rootNodes));let i;e+t.length<this.itemDoms.length?i=this.itemDoms[e+t.length].rootNodes[0]:i=l(this,j),i.before(...n)}},nt=function(e,t){let n=_(this,y,We).call(this,e,t);l(this,I)&&ce(n,!1),Ee(n)},We=function(e,t){if(l(this,y,te))for(let n=0;n<t;n++){let i=this.itemDoms[e+n].rootNodes;for(let a=0;a<i.length;a++)i[a].remove()}return this.itemDoms.splice(e,t)},it=function(e,t,n,i,a){let d=[];for(let h=0;h<a;h++){let p={outer:this.outer,model:e[i+h],key:t==null?void 0:t[i+h],index:n+h};d.push(this.itemConstructor(p))}_(this,y,He).call(this,n,d),l(this,I)&&ce(d,!0)},He=function(e,t){if(this.itemDoms.splice(e,0,...t),l(this,y,te)){let n=t.map(a=>a.rootNode),i;e+t.length<this.itemDoms.length?i=this.itemDoms[e+t.length].rootNode:i=l(this,j),i.before(...n)}},st=function(e,t){let n=_(this,y,Ge).call(this,e,t);l(this,I)&&ce(n,!1),Ee(n)},Ge=function(e,t){if(l(this,y,te))for(let n=0;n<t;n++)this.itemDoms[e+n].rootNode.remove();return this.itemDoms.splice(e,t)},ne=function(e,t,n,i,a){for(let d=0;d<a;d++){let h=this.itemDoms[n+d];h.context.key=t==null?void 0:t[i+d],h.context.index=n+d,h.context.model=e[i+d],h.rebind(),h.update()}};let Ae=fe;function Ee(o){for(let e=o.length-1;e>=0;e--)o[e].destroy()}function ce(o,e){for(let t=o.length-1;t>=0;t--)o[t].setMounted(e)}ye.register(Ae);function et(o){let e=function(){var n;let t=(n=E.document)==null?void 0:n.createComment(o);return{get rootNode(){return t},get rootNodes(){return[t]},get isSingleRoot(){return!0},setMounted(i){},destroy(){},update(){},render(i){i.write(`<!--${Le(o)}-->`)}}};return e.isSingleRoot=!0,e}var we,X;const De=class De{constructor(e){C(this,we);C(this,X,!1);var t;this.isSingleRoot=e.data.isSingleRoot,this.branches=e.data.branches,this.branch_constructors=[],this.context=e.context;for(let n of this.branches)n.nodeIndex!==void 0?this.branch_constructors.push(e.nodes[n.nodeIndex]):this.branch_constructors.push(et(" IfBlock placeholder "));this.activeBranchIndex=-1,this.activeBranch=et(" IfBlock placeholder ")(),this.isSingleRoot||(this.headSentinal=(t=E.document)==null?void 0:t.createComment(" if "))}static integrate(e,t){let n=[],i=[],a=!1,d=!0;for(let h=0;h<e.branches.length;h++){let p=e.branches[h],m={};if(n.push(m),p.condition instanceof Function?(m.condition=p.condition,a=!1):p.condition!==void 0?(m.condition=()=>p.condition,a=!!p.condition):(m.condition=()=>!0,a=!0),p.template!==void 0){let $=new Y(p.template,t);$.isSingleRoot||(d=!1),m.nodeIndex=i.length,i.push($)}}return delete e.branches,a||n.push({condition:()=>!0}),{isSingleRoot:d,nodes:i,data:{branches:n,isSingleRoot:d}}}static transform(e){if(e.if===void 0)return e;let t={type:De,branches:[{template:e,condition:e.if}]};return delete e.if,t}static transformGroup(e){let t=null;for(let n=0;n<e.length;n++){let i=e[n];if(i.if)t={type:De,branches:[{condition:i.if,template:i}]},delete i.if,e.splice(n,1,t);else if(i.elseif){if(!t)throw new Error("template has 'elseif' without a preceeding condition");t.branches.push({condition:i.elseif,template:i}),delete i.elseif,e.splice(n,1),n--}else if(i.else!==void 0){if(!t)throw new Error("template has 'else' without a preceeding condition");t.branches.push({condition:!0,template:i}),delete i.else,t=null,e.splice(n,1),n--}else t=null}}destroy(){this.activeBranch.destroy()}update(){this.switchActiveBranch(),this.activeBranch.update()}render(e){this.isSingleRoot||e.write("<!-- if -->"),this.activeBranch.render(e)}unbind(){var e,t;(t=(e=this.activeBranch).unbind)==null||t.call(e)}bind(){var e,t;(t=(e=this.activeBranch).bind)==null||t.call(e)}get isAttached(){var e;return this.isSingleRoot?((e=this.activeBranch.rootNode)==null?void 0:e.parentNode)!=null:this.headSentinal.parentNode!=null}switchActiveBranch(){var t,n,i;let e=this.resolveActiveBranch();if(e!=this.activeBranchIndex){(t=l(this,we))==null||t.finish();let a=this.isAttached,d=this.activeBranch;if(this.activeBranchIndex=e,this.activeBranch=this.branch_constructors[e](),a){let h;l(this,X)&&(h=(i=(n=this.branches[0].condition).withTransition)==null?void 0:i.call(n,this.context)),h||(h=Ct),b(this,we,h),h.enterNodes(this.activeBranch.rootNodes),h.leaveNodes(d.rootNodes),h.onWillEnter(()=>{this.isSingleRoot?d.rootNodes[d.rootNodes.length-1].after(this.activeBranch.rootNodes[0]):this.headSentinal.after(...this.activeBranch.rootNodes),l(this,X)&&this.activeBranch.setMounted(!0)}),h.onDidLeave(()=>{d.rootNodes.forEach(p=>p.remove()),l(this,X)&&d.setMounted(!1),d.destroy()}),h.start()}else l(this,X)&&(this.activeBranch.setMounted(!0),d.setMounted(!1))}}resolveActiveBranch(){for(let e=0;e<this.branches.length;e++)if(this.branches[e].condition.call(this.context.model,this.context.model,this.context))return e;throw new Error("internal error, IfBlock didn't resolve to a branch")}setMounted(e){b(this,X,e),this.activeBranch.setMounted(e)}get rootNodes(){return this.isSingleRoot?this.activeBranch.rootNodes:[this.headSentinal,...this.activeBranch.rootNodes]}get rootNode(){return this.activeBranch.rootNode}};we=new WeakMap,X=new WeakMap;let ze=De;ye.register(ze);function _t(o,e){let t=1,n=1,i=[],a=null,d=new Y(o,e),h=new Map;return{code:m(d,!0).toString(),isSingleRoot:d.isSingleRoot,refs:i};function m($,u){let N={emit_text_node:B,emit_html_node:xe,emit_dynamic_text_node:Ce,emit_comment_node:rt,emit_fragment_node:dt,emit_element_node:ht,emit_integrated_node:lt,emit_component_node:at},r=new Ve;r.create=r.addFunction("create").code,r.bind=r.addFunction("bind").code,r.update=r.addFunction("update").code,r.unbind=r.addFunction("unbind").code,r.setMounted=r.addFunction("setMounted",["mounted"]).code,r.destroy=r.addFunction("destroy").code;let M;u&&(M=r.addFunction("rebind").code);let A=new Map;u&&(a=r,a.code.append("let model = context.model;"),a.code.append("let document = env.document;")),r.code.append("create();"),r.code.append("bind();"),r.code.append("update();"),k($),r.bind.closure.isEmpty||(r.create.append("bind();"),r.destroy.closure.addProlog().append("unbind();"));let f=[];return $.isSingleRoot&&f.push(`  get rootNode() { return ${$.spreadDomNodes()}; },`),u?(f.push("  context,"),$==d&&h.forEach((s,g)=>f.push(`  get ${g}() { return ${s}; },`)),r.getFunction("bind").isEmpty?M.append("model = context.model"):(M.append("if (model != context.model)"),M.braced(()=>{M.append("unbind();"),M.append("model = context.model"),M.append("bind();")})),f.push("  rebind,")):(f.push("  bind,"),f.push("  unbind,")),r.code.append(["return { ","  update,","  destroy,","  setMounted,",`  get rootNodes() { return [ ${$.spreadDomNodes()} ]; },`,`  isSingleRoot: ${$.isSingleRoot},`,...f,"};"]),r;function c(s){s.template.export?a.addLocal(s.name):r.addLocal(s.name)}function x(){r.update.temp_declared||(r.update.temp_declared=!0,r.update.append("let temp;"))}function k(s){s.name=`n${t++}`,N[`emit_${s.kind}_node`](s)}function B(s){c(s),r.create.append(`${s.name} = document.createTextNode(${JSON.stringify(s.template)});`)}function xe(s){s.nodes.length!=0&&(c(s),s.nodes.length==1?(r.create.append(`${s.name} = refs[${i.length}].cloneNode(true);`),i.push(s.nodes[0])):(r.create.append(`${s.name} = refs[${i.length}].map(x => x.cloneNode(true));`),i.push(s.nodes)))}function Ce(s){c(s);let g=`p${n++}`;r.addLocal(g),r.create.append(`${s.name} = helpers.createTextNode("");`),x(),r.update.append(`temp = ${q(i.length)};`),r.update.append(`if (temp !== ${g})`),r.update.append(`  ${s.name} = helpers.setNodeText(${s.name}, ${g} = ${q(i.length)});`),i.push(s.template)}function rt(s){if(c(s),s.template.text instanceof Function){let g=`p${n++}`;r.addLocal(g),r.create.append(`${s.name} = document.createComment("");`),x(),r.update.append(`temp = ${q(i.length)};`),r.update.append(`if (temp !== ${g})`),r.update.append(`  ${s.name}.nodeValue = ${g} = temp;`),i.push(s.template.text)}else r.create.append(`${s.name} = document.createComment(${JSON.stringify(s.template.text)});`)}function lt(s){let g=[],T=!1;if(s.integrated.nodes)for(let v=0;v<s.integrated.nodes.length;v++){let w=s.integrated.nodes[v];if(!w){g.push(null);continue}w.name=`n${t++}`;let S=m(w,!1);S.getFunction("bind").isEmpty||(T=!0);let Qe=`${w.name}_constructor_${v+1}`,ut=r.addFunction(Qe,[]);S.appendTo(ut.code),g.push(Qe)}r.update.append(`${s.name}.update()`),T&&(r.bind.append(`${s.name}.bind()`),r.unbind.append(`${s.name}.unbind()`));let L=-1;s.integrated.data&&(L=i.length,i.push(s.integrated.data)),c(s),r.create.append(`${s.name} = new refs[${i.length}]({`,"  context,",`  data: ${s.integrated.data?`refs[${L}]`:"null"},`,`  nodes: [ ${g.join(", ")} ],`,"});"),i.push(s.template.type),r.setMounted.append(`${s.name}.setMounted(mounted);`),r.destroy.append(`${s.name}?.destroy();`),r.destroy.append(`${s.name} = null;`);for(let v of Object.keys(s.template))if(!Fe(s,v))throw new Error(`Unknown element template key: ${v}`)}function at(s){c(s),r.create.append(`${s.name} = new refs[${i.length}]();`),i.push(s.template.type);let g=new Set(s.template.type.slots??[]),T=s.template.update==="auto",L=!1;r.setMounted.append(`${s.name}.setMounted(mounted);`),r.destroy.append(`${s.name}?.destroy();`),r.destroy.append(`${s.name} = null;`);for(let v of Object.keys(s.template)){if(Fe(s,v)||v=="update")continue;if(g.has(v)){if(s.template[v]===void 0)continue;let S=new Y(s.template[v],e);k(S),S.isSingleRoot?r.create.append(`${s.name}${ee(v)}.content = ${S.name};`):r.create.append(`${s.name}${ee(v)}.content = [${S.spreadDomNodes()}];`);continue}let w=typeof s.template[v];if(w=="string"||w=="number"||w=="boolean")r.create.append(`${s.name}${ee(v)} = ${JSON.stringify(s.template[v])}`);else if(w==="function"){T&&!L&&(L=`${s.name}_mod`,r.update.append(`let ${L} = false;`));let S=`p${n++}`;r.addLocal(S);let he=i.length;x(),r.update.append(`temp = ${q(he)};`),r.update.append(`if (temp !== ${S})`),T&&(r.update.append("{"),r.update.append(`  ${L} = true;`)),r.update.append(`  ${s.name}${ee(v)} = ${S} = temp;`),T&&r.update.append("}"),i.push(s.template[v])}else{let S=s.template[v];S instanceof yt&&(S=S.value),r.create.append(`${s.name}${ee(v)} = refs[${i.length}];`),i.push(S)}}s.template.update&&(typeof s.template.update=="function"?(r.update.append(`if (${q(i.length)})`),r.update.append(`  ${s.name}.update();`),i.push(s.template.update)):T?L&&(r.update.append(`if (${L})`),r.update.append(`  ${s.name}.update();`)):r.update.append(`${s.name}.update();`))}function dt(s){Ze(s)}function ht(s){var L;let g=r.current_xmlns,T=s.template.xmlns;T===void 0&&s.template.type=="svg"&&(T="http://www.w3.org/2000/svg"),T==null&&(T=r.current_xmlns),c(s),T?(r.current_xmlns=T,r.create.append(`${s.name} = document.createElementNS(${JSON.stringify(T)}, ${JSON.stringify(s.template.type)});`)):r.create.append(`${s.name} = document.createElement(${JSON.stringify(s.template.type)});`),r.destroy.append(`${s.name} = null;`);for(let v of Object.keys(s.template))if(!Fe(s,v)){if(v=="id"){de(s.template.id,w=>`${s.name}.setAttribute("id", ${w});`);continue}if(v=="class"){de(s.template.class,w=>`${s.name}.setAttribute("class", ${w});`);continue}if(v.startsWith("class_")){let w=Oe(v.substring(6)),S=s.template[v];if(S instanceof Function){let he=`${s.name}_bc`;r.addLocal(he),r.create.append(`${he} = helpers.boolClassMgr(context, ${s.name}, ${JSON.stringify(w)}, refs[${i.length}]);`),i.push(S),r.update.append(`${he}();`)}else r.create.append(`helpers.setNodeClass(${s.name}, ${JSON.stringify(w)}, ${S});`);continue}if(v=="style"){de(s.template.style,w=>`${s.name}.setAttribute("style", ${w});`);continue}if(v.startsWith("style_")){let w=Oe(v.substring(6));de(s.template[v],S=>`helpers.setNodeStyle(${s.name}, ${JSON.stringify(w)}, ${S})`);continue}if(v=="display"){if(s.template.display instanceof Function){let w=`${s.name}_dm`;r.addLocal(w),r.create.append(`${w} = helpers.displayMgr(context, ${s.name}, refs[${i.length}]);`),i.push(s.template.display),r.update.append(`${w}();`)}else r.create.append(`helpers.setNodeDisplay(${s.name}, ${JSON.stringify(s.template.display)});`);continue}if(v.startsWith("attr_")){let w=v.substring(5);if(w=="style"||w=="class"||w=="id")throw new Error(`Incorrect attribute: use '${w}' instead of '${v}'`);r.current_xmlns||(w=Oe(w)),de(s.template[v],S=>`helpers.setElementAttribute(${s.name}, ${JSON.stringify(w)}, ${S})`);continue}if(v=="text"){s.template.text instanceof Function?de(s.template.text,w=>`helpers.setElementText(${s.name}, ${w})`):s.template.text instanceof P&&r.create.append(`${s.name}.innerHTML = ${JSON.stringify(s.template.text.html)};`),typeof s.template.text=="string"&&r.create.append(`${s.name}.innerText = ${JSON.stringify(s.template.text)};`);continue}throw new Error(`Unknown element template key: ${v}`)}Ze(s),(L=s.childNodes)!=null&&L.length&&r.create.append(`${s.name}.append(${s.spreadChildDomNodes()});`),r.current_xmlns=g}function Ze(s){if(s.childNodes)for(let g=0;g<s.childNodes.length;g++)k(s.childNodes[g])}function Fe(s,g){if(ct(g))return!0;if(g=="export"){if(typeof s.template.export!="string")throw new Error("'export' must be a string");if(h.has(s.template.export))throw new Error(`duplicate export name '${s.template.export}'`);return h.set(s.template.export,s.name),!0}if(g=="bind"){if(typeof s.template.bind!="string")throw new Error("'bind' must be a string");if(A.has(s.template.export))throw new Error(`duplicate bind name '${s.template.bind}'`);return A.set(s.template.bind,!0),r.bind.append(`model${ee(s.template.bind)} = ${s.name};`),r.unbind.append(`model${ee(s.template.bind)} = null;`),!0}if(g.startsWith("on_")){let T=g.substring(3);if(!(s.template[g]instanceof Function))throw new Error(`event handler for '${g}' is not a function`);s.listenerCount||(s.listenerCount=0),s.listenerCount++;let L=`${s.name}_ev${s.listenerCount}`;return r.addLocal(L),r.create.append(`${L} = helpers.addEventListener(() => model, ${s.name}, ${JSON.stringify(T)}, refs[${i.length}]);`),i.push(s.template[g]),r.destroy.append(`${L}?.();`),r.destroy.append(`${L} = null;`),!0}return g=="debug_create"?(typeof s.template[g]=="function"?(r.create.append(`if (${q(i.length)})`),r.create.append("  debugger;"),i.push(s.template[g])):s.template[g]&&r.create.append("debugger;"),!0):g=="debug_update"?(typeof s.template[g]=="function"?(r.update.append(`if (${q(i.length)})`),r.update.append("  debugger;"),i.push(s.template[g])):s.template[g]&&r.update.append("debugger;"),!0):g=="debug_render"}function ct(s){return s=="type"||s=="childNodes"||s=="xmlns"}function q(s){return`refs[${s}].call(model, model, context)`}function de(s,g){if(s instanceof Function){let T=`p${n++}`;r.addLocal(T),g(),x(),r.update.append(`temp = ${q(i.length)};`),r.update.append(`if (temp !== ${T})`),r.update.append(`  ${g(T+" = temp")};`),i.push(s)}else r.create.append(g(JSON.stringify(s)))}}}let Et=1;function ot(o,e){e=e??{},e.compileTemplate=ot;let t=_t(o,e),n=new Function("env","refs","helpers","context",t.code),i=function(a){return a||(a={}),a.$instanceId=Et++,n(E,t.refs,U,a??{})};return i.isSingleRoot=t.isSingleRoot,i}class Tt extends mt{constructor(){super(),this.browser=!0,this.document=document,this.compileTemplate=ot,this.window=window,this.requestAnimationFrame=window.requestAnimationFrame.bind(window),this.Node=Node}}typeof document<"u"&&gt(new Tt);let Lt=[{title:"Tool Free",body:`No transpiling, packaging or bundling to slow things down. 
               Debug, edit and save your code in the browser <em>exactly</em> 
               as you wrote it.`},{title:"Non-Reactive",body:`Non-reactive and non-intrusive. No wrapper functions or proxies.
               Everything is kept as close to pure JavaScript as possible.`},{title:"Fast and Small",body:`DOM templates are JIT compiled, minimal DOM updates and we've 
               tuned it to run <em>fast!</em><br>&lt; 14kB gzipped.`}],Rt=`### Logic, Templates and Styles...

...all in self contained .js files.

\`\`\`js
// demo
class Main extends Component /* Components extend the \`Component\` class */
{
  count = 0; /* Class fields and functions are available to the template */

  onClick() /* Button click event handler */
  { 
    this.count++; 
    this.invalidate(); /* Marks the component as needing DOM update */
  }

  static template = { /* This is the component's DOM template */
    type: "div", /* Root element type */
    class: "counter", /* Scoping CSS class */
    $: [ /* Child nodes array */
      {
        type: "button",
        text: \`Click Me\`,
        on_click: c => c.onClick(), /* \`c\` is the component instance */
      },
      {
        type: "span",
        text: c => \`Count: \${c.count}\`, /* Callback for dynamic content */
      }
    ]
  }
}

Style.declare( /* CSS styles (with \`.counter\` as scoping class) */
\`
.counter
{
  button
  {
    margin-right: 10px
  }
}
\`); 
\`\`\`

[Read the Guide](/guide/)

`;class Mt extends Ie{onMount(){stylish.addEventListener("darkModeChanged",this.invalidate),document.documentElement.classList.add("home-colors")}onUnmount(){stylish.removeEventListener("darkModeChanged",this.invalidate),document.documentElement.classList.remove("home-colors")}}K(Mt,"template",{type:"main",$:[{type:"img",id:"hero",attr_src:e=>`/hero-${stylish.darkMode?"dark":"light"}.svg`},{type:"h2",text:"The Web framework for coders."},{type:"div",class:"row",$:Lt.map(e=>Dt(e))}]});function Dt(o){return{type:"div",class:"box",$:[Re.h(3,o.title),Re.p(Re.raw(o.body))]}}bt.declare(`
main
{
    text-align: center;
    position: relative;
    max-width: 960px;
    margin: 50px auto;

    #hero
    {
        width: 100%;
        max-width: 800px;
        margin-top: -130px;
        margin-bottom: -100px;
        aspect-ratio: 3179 / 1611;
    }
    h2
    {
        margin: 0;
    }

    .row
    {
        display: flex;
        gap: 10px;
        margin-top: 40px;

        .box
        {
            cursor: default;
            border: 1px solid var(--gridline-color);
            border-radius: 7px;
            width: 33%;
            font-size: 10pt;
            padding: 10px;
            color: var(--body-fore-color);
            transition: background-color 0.2s;
            margin: 5px 0;

            &:hover
            {
                background-color: rgb(from var(--accent-color) r g b / 10%);
            }

            h3
            {
                margin-top: 10px;
                font-size: 1rem;
                color: var(--accent-color);
            }
        }
    }

}

@media screen and (width < 550px) 
{
    main
    {
        .row
        {
            display: block;
            .box
            {
                width: 90%;
                display: block;
                margin: 10px auto;
            }
        }
    }
}

`);export{Ie as C,Re as H,bt as S,Mt as a,E as e,Rt as h,$t as n,Bt as t,kt as w};
