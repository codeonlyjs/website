<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- HTML Meta Tags -->
    <title>CodeOnlyJS </title>
    <meta name="description" content="The front-end Web framework for coders." />
    <!-- Google / Search Engine Tags -->
    <meta itemprop="name" content="CodeOnlyJS " />
    <meta itemprop="description" content="The front-end Web framework for coders" />
    <meta itemprop="image" content="https://codeonlyjs.org/social-card-dark-1200.png" />
    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://codeonlyjs.org/" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="CodeOnlyJS " />
    <meta property="og:description" content="The front-end Web framework for coders" />
    <meta property="og:image" content="https://codeonlyjs.org/social-card-dark-1200.png" />
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="CodeOnlyJS " />
    <meta name="twitter:description" content="The front-end Web framework for coders" />
    <meta name="twitter:image" content="https://codeonlyjs.org/social-card-dark-1200.png" />
    <!-- Apple -->
    <link rel="apple-touch-icon" href="https://codeonlyjs.org/codeonly-icon-256.png" />
    <!-- Meta Tags Generated via https://heymeta.com -->

    <link href="https://cdn.jsdelivr.net/gh/codeonlyjs/stylish@1.0.10/stylish.css" type="text/css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/gh/codeonlyjs/stylish@1.0.10/stylish-theme.min.js"></script>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/css.min.js"></script>
    <link id="hljs-theme" href="" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.52.0/min/vs/loader.js"></script>
    <script>
    require.config({ paths: { vs: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.52.0/min/vs' } });
    </script>
    <script>
    function updateHighlightTheme()
    {
        let el = document.getElementById("hljs-theme");
        let themeFile = stylish.darkMode ? "github-dark.min.css" : "github.min.css";
        let new_href = `https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/${themeFile}`;
        el.setAttribute("href", new_href);
    }
    stylish.addEventListener("darkModeChanged", updateHighlightTheme);
    updateHighlightTheme();
    </script>
    <style>
    :root
    {
        --dark-accent-color: #9D79E5;
    }
    :root.home-colors
    {
        --dark-body-back-color: #0a0b1a;
        --light-body-back-color: white;
    }
    body
    {
        padding: 0;
        margin: 0;
    }
    </style>
    <script type="module" crossorigin="crossorigin" src="/assets/index-CXDn6ClS.js"></script>
    <!--co-ssr-start--><link href="/assets/styles-AAABk3beHUc.css" type="text/css" rel="stylesheet" /><!--co-ssr-end-->
    <meta name="co-ssr" value="true" />
  </head>
  <body>
    <!--co-ssr-start-->
    <div id="layoutRoot">
      <header id="header">
        <a href="/" class="title"><img class="hide-sm" src="/public/codeonly-logo-light.svg" /><img class="hide-lg" src="/public/codeonly-icon.svg" /></a>
        <div class="buttons">
          <a href="/guide/" class="subtle button">Docs</a><a href="/lab" class="subtle button labLink vcenter"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 -960 960 960" preserveAspectRatio="xMidYMid slice" role="img"><path xmlns="http://www.w3.org/2000/svg" d="M200-120q-51 0-72.5-45.5T138-250l222-270v-240h-40q-17 0-28.5-11.5T280-800q0-17 11.5-28.5T320-840h320q17 0 28.5 11.5T680-800q0 17-11.5 28.5T640-760h-40v240l222 270q32 39 10.5 84.5T760-120H200Zm0-80h560L520-492v-268h-80v268L200-200Zm280-280Z"></path></svg> The Lab</a><input type="checkbox" class="theme-switch" />
          <script>
          document.querySelector(".theme-switch").checked = window.stylish.darkMode;
          </script>
        </div>
      </header>
      <div id="layoutDocumentation">
        <header id="mobile-bar"><button id="side-panel-menu-button" class="subtle muted"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 -960 960 960" preserveAspectRatio="xMidYMid slice" role="img"><path xmlns="http://www.w3.org/2000/svg" d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"></path></svg> Menu</button><button id="side-panel-menu-button" class="subtle muted">On this page ›</button></header>
        <div id="div-wrapper">
          <div id="backdrop" class=""></div>
          <div id="div-lhs" class="">
            <nav id="nav-main">
              <!-- enter foreach block -->
              <h5> Introduction</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="." class="">Welcome</a></li>
                <li><a href="start" class="">Getting Started</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Components</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="components" class="">Overview</a></li>
                <li><a href="component" class="">API</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Templates</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="templates" class="">Basics</a></li>
                <li><a href="templateText" class="">Text and HTML</a></li>
                <li><a href="templateHtmlElements" class="">HTML Elements</a></li>
                <li><a href="templateComponents" class="">Component References</a></li>
                <li><a href="templateIf" class="">If Directive</a></li>
                <li><a href="templateForEach" class="">ForEach Directive</a></li>
                <li><a href="templateEmbedSlots" class="">Embed Slots</a></li>
                <li><a href="templateInput" class="">Input Bindings</a></li>
                <li><a href="templateTransitions" class="">Transitions</a></li>
                <li><a href="templateFluent" class="">Fluent Templates</a></li>
                <li><a href="templateUpdateSemantics" class="">Update Semantics</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Router</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="routerBasics" class="">Basics</a></li>
                <li><a href="routerDetails" class="">Details</a></li>
                <li><a href="routerNotes" class="">Notes</a></li>
                <li><a href="routerTypical" class="">Typical Setup</a></li>
                <li><a href="router" class="">API</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Rendering</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="renderIntro" class="">Introduction</a></li>
                <li><a href="renderSSR" class="">Server Side Rendering (SSR)</a></li>
                <li><a href="renderSSG" class="">Static Site Generation (SSG)</a></li>
                <li><a href="renderStatic" class="">Static Rendering</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Utilities</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="utilities" class="">Utilities</a></li>
                <li><a href="Notify" class="">Notify Service</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Related</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="stylish" class="">Stylish CSS</a></li>
                <li><a href="bundle-free" class="">Bundle Free</a></li>
                <li><a href="cogent" class="">Cogent</a></li>
                <!-- leave foreach block -->
              </ul>
              <!-- leave foreach block -->
            </nav>
          </div>
          <div id="div-center">
            <div class="document-view">
              <h1>Static HTML Rendering</h1>
              <p>Static HTML rendering lets you construct components and render them to a HTML string.</p>
              <p>Static rendering might be used as part of static site generator, or for other templated
HTML rendering requirements.</p>
              <h2 id="sample-component"><a class="hlink" href="#sample-component">#</a>Sample Component</h2>
              <p>Let's use this simple component as an example:</p>
              <pre><code class="hljs language-js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span>
{
    #greeting = <span class="hljs-string">&quot;Hello&quot;</span>;
    <span class="hljs-keyword">get</span> <span class="hljs-title function_">greeting</span>()
    {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.#greeting;
    }
    <span class="hljs-keyword">set</span> <span class="hljs-title function_">greeting</span>(<span class="hljs-params">value</span>)
    {
        <span class="hljs-variable language_">this</span>.#greeting = value;
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">invalidate</span>();
    }

    <span class="hljs-keyword">static</span> template = {
        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;div&quot;</span>,
        <span class="hljs-attr">$</span>: [
            {
                <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;div .greeting&quot;</span>,
                <span class="hljs-attr">text</span>: <span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c.<span class="hljs-property">greeting</span>,
            },
            {
                <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;div&quot;</span>,
                <span class="hljs-attr">text</span>: <span class="hljs-string">&quot;World&quot;</span>,
            }
        ]
    }
}
</code></pre>
              <h2 id="rendering-html"><a class="hlink" href="#rendering-html">#</a>Rendering HTML</h2>
              <p>To get the HTML of a component, use the <code>rootNode.html</code> property:</p>
              <pre><code class="hljs language-js"><span class="hljs-keyword">let</span> comp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyComponent</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(comp.<span class="hljs-property">rootNode</span>.<span class="hljs-property">html</span>);
</code></pre>
              <p>which produces:</p>
              <pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;greeting&quot;</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>World<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
              <div class="tip">
                <p>The above assumes a single root node.  If the node has multiple roots
you can get the HTML using <code>comp.rootNodes.map(x =&gt; x.html).join(&quot;&quot;)</code>.</p>
              </div>
              <h2 id="pretty-formatting"><a class="hlink" href="#pretty-formatting">#</a>Pretty Formatting</h2>
              <p>To get more nicely formatted output, use the <code>prettyHtml()</code> function:</p>
              <pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { prettyHtml } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@codeonlyjs/core&quot;</span>;

<span class="hljs-keyword">let</span> comp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyComponent</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">prettyHtml</span>(comp.<span class="hljs-property">rootNode</span>.<span class="hljs-property">html</span>));

</code></pre>
              <p>to produce:</p>
              <pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;greeting&quot;</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>World<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
              <h2 id="updates"><a class="hlink" href="#updates">#</a>Updates</h2>
              <p>Normally when rendering static output like this you won't need to render, apply
updates and re-render.  If you do however, you need to make sure the components have
all updated the minidom, before re-rendering.</p>
              <p>There's a few ways to do this:</p>
              <ol>
                <li>
                  <p>If the component doesn't have any nested components, just call its <code>validate</code>
method - any pending updates to this component will be applied.</p>
                </li>
                <li>
                  <p>Call the component's <code>destroy()</code> method to destroy the old DOM, causing a new
one to be constructed (with the new values) on the next render.  This will
destroy nested component DOM trees too so the entire tree will be effectively
updated.  This approach is effective but not particularly efficient (though
not terrible)</p>
                </li>
                <li>
                  <p>Call the <code>getEnv().whileBusy()</code> method and await the returned promise.  This
waits for any pending <code>Component.load()</code> operations, any pending <code>nextFrame()</code>
calls and any pending <code>Router.load()</code> operations.</p>
                </li>
              </ol>
              <p>Using <code>whileBusy()</code> is the most reliable mechanism:</p>
              <pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { getEnv } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@codeonlyjs/core&quot;</span>;

<span class="hljs-comment">// First render...</span>
<span class="hljs-keyword">let</span> comp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Component</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">prettyHtml</span>(comp.<span class="hljs-property">rootNode</span>.<span class="hljs-property">html</span>));

<span class="hljs-comment">// Second render...</span>
comp.<span class="hljs-property">greeting</span> = <span class="hljs-string">&quot;Goodbye&quot;</span>;
<span class="hljs-keyword">await</span> <span class="hljs-title function_">getEnv</span>().<span class="hljs-title function_">whileBusy</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">prettyHtml</span>(comp.<span class="hljs-property">rootNode</span>.<span class="hljs-property">html</span>));
</code></pre>
              <p>Note: it's only necessary to await <code>whileBusy()</code> if:</p>
              <ul>
                <li>There have been <code>invalidate()</code> calls on any of the components in the tree</li>
                <li>There are pending async <code>Component.loading()</code> calls or router loads.</li>
              </ul>
              <div class="tip">
                <p>The reason this is only required after an update is because the DOM tree for the component
probably hasn't been created on the first render.  The initial access of the component's
<code>.rootNode</code> or <code>.rootNodes</code> property causes the DOM tree to be created, and initialized with
the current settings.</p>
                <p>If the component calls <code>create()</code> in its constructor and then invalidates the component, or
if it uses the <code>load</code> mechanism, you'll need to await in that case too.</p>
              </div>
            </div>
            <nav class="next-previous-navigation"><a class="previous" href="renderSSG"><div class="description muted">‹ Previous</div><div class="title">Static Site Generation</div></a><a class="next" href="utilities"><div class="description muted">Next ›</div><div class="title">Utilities</div></a></nav>
          </div>
          <div id="div-rhs" class="">
            <nav id="secondary-nav">
              <div class="highlight"></div>
              <a href="#" class="title">Static HTML Rendering</a>
              <ul class="h1">
                <!-- enter foreach block -->
                <li><a href="#sample-component">Sample Component</a><!-- IfBlock placeholder --></li>
                <li><a href="#rendering-html">Rendering HTML</a><!-- IfBlock placeholder --></li>
                <li><a href="#pretty-formatting">Pretty Formatting</a><!-- IfBlock placeholder --></li>
                <li><a href="#updates">Updates</a><!-- IfBlock placeholder --></li>
                <!-- leave foreach block -->
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>
    <!--co-ssr-end-->
  </body>
</html>
