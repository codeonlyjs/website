<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- HTML Meta Tags -->
    <title>CodeOnlyJS </title>
    <meta name="description" content="The front-end Web framework for coders." />
    <!-- Google / Search Engine Tags -->
    <meta itemprop="name" content="CodeOnlyJS " />
    <meta itemprop="description" content="The front-end Web framework for coders" />
    <meta itemprop="image" content="https://codeonlyjs.org/social-card-dark-1200.png" />
    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://codeonlyjs.org/" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="CodeOnlyJS " />
    <meta property="og:description" content="The front-end Web framework for coders" />
    <meta property="og:image" content="https://codeonlyjs.org/social-card-dark-1200.png" />
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="CodeOnlyJS " />
    <meta name="twitter:description" content="The front-end Web framework for coders" />
    <meta name="twitter:image" content="https://codeonlyjs.org/social-card-dark-1200.png" />
    <!-- Apple -->
    <link rel="apple-touch-icon" href="https://codeonlyjs.org/codeonly-icon-256.png" />
    <!-- Meta Tags Generated via https://heymeta.com -->

    <link href="https://cdn.jsdelivr.net/gh/codeonlyjs/stylish@1.0.10/stylish.css" type="text/css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/gh/codeonlyjs/stylish@1.0.10/stylish-theme.min.js"></script>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/css.min.js"></script>
    <link id="hljs-theme" href="" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.52.0/min/vs/loader.js"></script>
    <script>
    require.config({ paths: { vs: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.52.0/min/vs' } });
    </script>
    <script>
    function updateHighlightTheme()
    {
        let el = document.getElementById("hljs-theme");
        let themeFile = stylish.darkMode ? "github-dark.min.css" : "github.min.css";
        let new_href = `https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/${themeFile}`;
        el.setAttribute("href", new_href);
    }
    stylish.addEventListener("darkModeChanged", updateHighlightTheme);
    updateHighlightTheme();
    </script>
    <style>
    :root
    {
        --dark-accent-color: #9D79E5;
    }
    :root.home-colors
    {
        --dark-body-back-color: #0a0b1a;
        --light-body-back-color: white;
    }
    body
    {
        padding: 0;
        margin: 0;
    }
    </style>
    <script type="module" crossorigin="crossorigin" src="/assets/index-CXDn6ClS.js"></script>
    <!--co-ssr-start--><link href="/assets/styles-AAABk3beHUc.css" type="text/css" rel="stylesheet" /><!--co-ssr-end-->
    <meta name="co-ssr" value="true" />
  </head>
  <body>
    <!--co-ssr-start-->
    <div id="layoutRoot">
      <header id="header">
        <a href="/" class="title"><img class="hide-sm" src="/public/codeonly-logo-light.svg" /><img class="hide-lg" src="/public/codeonly-icon.svg" /></a>
        <div class="buttons">
          <a href="/guide/" class="subtle button">Docs</a><a href="/lab" class="subtle button labLink vcenter"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 -960 960 960" preserveAspectRatio="xMidYMid slice" role="img"><path xmlns="http://www.w3.org/2000/svg" d="M200-120q-51 0-72.5-45.5T138-250l222-270v-240h-40q-17 0-28.5-11.5T280-800q0-17 11.5-28.5T320-840h320q17 0 28.5 11.5T680-800q0 17-11.5 28.5T640-760h-40v240l222 270q32 39 10.5 84.5T760-120H200Zm0-80h560L520-492v-268h-80v268L200-200Zm280-280Z"></path></svg> The Lab</a><input type="checkbox" class="theme-switch" />
          <script>
          document.querySelector(".theme-switch").checked = window.stylish.darkMode;
          </script>
        </div>
      </header>
      <div id="layoutDocumentation">
        <header id="mobile-bar"><button id="side-panel-menu-button" class="subtle muted"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 -960 960 960" preserveAspectRatio="xMidYMid slice" role="img"><path xmlns="http://www.w3.org/2000/svg" d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"></path></svg> Menu</button><button id="side-panel-menu-button" class="subtle muted">On this page ›</button></header>
        <div id="div-wrapper">
          <div id="backdrop" class=""></div>
          <div id="div-lhs" class="">
            <nav id="nav-main">
              <!-- enter foreach block -->
              <h5> Introduction</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="." class="">Welcome</a></li>
                <li><a href="start" class="">Getting Started</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Components</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="components" class="">Overview</a></li>
                <li><a href="component" class="">API</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Templates</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="templates" class="">Basics</a></li>
                <li><a href="templateText" class="">Text and HTML</a></li>
                <li><a href="templateHtmlElements" class="">HTML Elements</a></li>
                <li><a href="templateComponents" class="">Component References</a></li>
                <li><a href="templateIf" class="">If Directive</a></li>
                <li><a href="templateForEach" class="">ForEach Directive</a></li>
                <li><a href="templateEmbedSlots" class="">Embed Slots</a></li>
                <li><a href="templateInput" class="">Input Bindings</a></li>
                <li><a href="templateTransitions" class="">Transitions</a></li>
                <li><a href="templateFluent" class="">Fluent Templates</a></li>
                <li><a href="templateUpdateSemantics" class="">Update Semantics</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Router</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="routerBasics" class="">Basics</a></li>
                <li><a href="routerDetails" class="">Details</a></li>
                <li><a href="routerNotes" class="">Notes</a></li>
                <li><a href="routerTypical" class="">Typical Setup</a></li>
                <li><a href="router" class="">API</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Rendering</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="renderIntro" class="">Introduction</a></li>
                <li><a href="renderSSR" class="">Server Side Rendering (SSR)</a></li>
                <li><a href="renderSSG" class="">Static Site Generation (SSG)</a></li>
                <li><a href="renderStatic" class="">Static Rendering</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Utilities</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="utilities" class="">Utilities</a></li>
                <li><a href="Notify" class="">Notify Service</a></li>
                <!-- leave foreach block -->
              </ul>
              <h5> Related</h5>
              <ul>
                <!-- enter foreach block -->
                <li><a href="stylish" class="">Stylish CSS</a></li>
                <li><a href="bundle-free" class="">Bundle Free</a></li>
                <li><a href="cogent" class="">Cogent</a></li>
                <!-- leave foreach block -->
              </ul>
              <!-- leave foreach block -->
            </nav>
          </div>
          <div id="div-center">
            <div class="document-view">
              <h1>Router Basics</h1>
              <p>CodeOnly includes simple but flexible router for use with single page apps.</p>
              <div class="tip">
                <p>Not sure what a router is?</p>
                <p>In single page apps, page navigation is handled by the application itself -
not by the browser. A router provides a way to use browser displayed
URLs to navigate within your app.</p>
              </div>
              <h2 id="features"><a class="hlink" href="#features">#</a>Features</h2>
              <p>The CodeOnly router supports the following features:</p>
              <ul>
                <li>Centralized or distributed route configuration</li>
                <li>Use URL patterns or regular expressions to match routes</li>
                <li>Fine grained URL matching via a callback</li>
                <li>Async events and hooks</li>
                <li>Navigation cancellation (aka &quot;Navigation Guards&quot;)</li>
                <li>Uses the browser's History API</li>
                <li>Ordinary and hashed URL paths</li>
                <li>View state persistence (eg: scroll position)</li>
                <li>URL base prefix and other URL mapping</li>
                <li>Supports pre and post navigation async data loads</li>
              </ul>
              <h2 id="quick-overview"><a class="hlink" href="#quick-overview">#</a>Quick Overview</h2>
              <p>To get an idea for how the router works, let's start with a simple example.</p>
              <h3 id="quick-overview-import-the-router"><a class="hlink" href="#quick-overview-import-the-router">#</a>Import the Router</h3>
              <p>Central to routing is the Router object itself which is available as
the singleton instance <code>router</code>:</p>
              <pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { router } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@codeonlyjs/core&quot;</span>;
</code></pre>
              <h3 id="quick-overview-register-route-handlers"><a class="hlink" href="#quick-overview-register-route-handlers">#</a>Register Route Handlers</h3>
              <p>Next, we register &quot;route handlers&quot; with the router. A handler is an
object that matches URLs to pages in your app.</p>
              <p>This example sets up a route handler for the URL <code>/about</code>.</p>
              <pre><code class="hljs language-js">router.<span class="hljs-title function_">register</span>({ <span class="note"><span class="inner"> Register this route handler with the router </span></span>
    <span class="hljs-attr">pattern</span>: <span class="hljs-string">&quot;/about&quot;</span>, <span class="note"><span class="inner"> This is the URL we handle </span></span>
    <span class="hljs-attr">match</span>: <span class="hljs-function">(<span class="hljs-params">to</span>) =&gt;</span> { <span class="note"><span class="inner"> After the pattern matches, the match function is called </span></span>
        to.<span class="hljs-property">page</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AboutPageComponent</span>(); <span class="note"><span class="inner"> Create a component to display for this page </span></span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="note"><span class="inner"> Return true to accept the match </span></span>
    }
});
</code></pre>
              <p>Note that for this to work, the code that registers the route handler must
be run - which usually just means adding an import to the page's JavaScript
file from your app's main component:</p>
              <pre><code class="hljs language-js"><span class="hljs-comment">// Add this to you main component&#x27;s .js file</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;AboutPageComponent.js&quot;</span>;
</code></pre>
              <h3 id="quick-overview-show-the-route-s-page"><a class="hlink" href="#quick-overview-show-the-route-s-page">#</a>Show the Route's Page</h3>
              <p>Finally, the app listens to the router for navigation events and
updates what's shown for the new URL.</p>
              <p>Usually this is done by receiving a page component (eg: the
<code>AboutPageComponent</code> from above) and loading it into an <a href="templateEmbedSlots">embed-slot</a>
designated for showing router page content.</p>
              <pre><code class="hljs language-js">router.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;didEnter&quot;</span>, <span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">from</span>, to</span>) =&gt;</span> { <span class="note"><span class="inner"> Notifies that navigation happened </span></span>

    <span class="hljs-comment">// Load page into our embed slot</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">routerContentSlot</span>.<span class="hljs-property">content</span> = to.<span class="hljs-property">page</span>;  <span class="note"><span class="inner"> Load the page component from above into a slot </span></span>

});
</code></pre>
              <div class="tip">
                <p>Note that the router itself knows nothing about components, templates,
or embed slots.</p>
                <p>Instead you attach the information and objects your app needs to the route
object and use it however suits your app.</p>
              </div>
              <h3 id="quick-overview-start-the-router"><a class="hlink" href="#quick-overview-start-the-router">#</a>Start the Router</h3>
              <p>Finally, the router needs to be started.  This tells the router to connect its
event listeners to the DOM and History API and to perform the initial page load
navigation.</p>
              <p>This should be done after all route handlers have been registered and usually
the main component of your application has been mounted.</p>
              <pre><code class="hljs language-js"><span class="hljs-comment">// Mount main component</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Main</span>().<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;main&quot;</span>);

<span class="hljs-comment">// Start the router</span>
router.<span class="hljs-title function_">start</span>();
</code></pre>
              <h3 id="quick-overview-summary"><a class="hlink" href="#quick-overview-summary">#</a>Summary</h3>
              <p>To sum up:</p>
              <ol>
                <li>Create a router object</li>
                <li>Register route handlers that match URLs and create page components for
the URL and store them on the route object</li>
                <li>Register an event listener for navigation events and use information
stored on the route object to re-configure what's shown</li>
                <li>Start the router.</li>
              </ol>
              <h2 id="creating-links-to-routes"><a class="hlink" href="#creating-links-to-routes">#</a>Creating Links to Routes</h2>
              <p>Of course there's not much point having a router without links to URLs
that the router can work with.  But, there's nothing special to do here.</p>
              <p>Just create the anchor elements (eg: <code>&lt;a href=&quot;/about&quot;&gt;</code>) as per normal
and the router will automatically detect clicks on in-app links and
invoke the router to load the page.</p>
              <pre><code class="hljs language-js">{
    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;a&quot;</span>,
    <span class="hljs-attr">attr_href</span>: <span class="hljs-string">&quot;/about&quot;</span>,
    <span class="hljs-attr">text</span>: <span class="hljs-string">&quot;About this Site&quot;</span>,
}
</code></pre>
              <h2 id="next-steps"><a class="hlink" href="#next-steps">#</a>Next Steps</h2>
              <p>For many single page apps, what's been described above will cover most requirements.  If you use the CodeOnly project generator to create a
single-page app it will setup all this for you automatically.</p>
              <p>For more complex setups though, let's dig into <a href="routerDetails">the details</a>...</p>
            </div>
            <nav class="next-previous-navigation"><a class="previous" href="templateUpdateSemantics"><div class="description muted">‹ Previous</div><div class="title">Update Semantics</div></a><a class="next" href="routerDetails"><div class="description muted">Next ›</div><div class="title">Router Details</div></a></nav>
          </div>
          <div id="div-rhs" class="">
            <nav id="secondary-nav">
              <div class="highlight"></div>
              <a href="#" class="title">Router Basics</a>
              <ul class="h1">
                <!-- enter foreach block -->
                <li><a href="#features">Features</a><!-- IfBlock placeholder --></li>
                <li>
                  <a href="#quick-overview">Quick Overview</a>
                  <ul class="h2">
                    <!-- enter foreach block -->
                    <li><a href="#quick-overview-import-the-router">Import the Router</a></li>
                    <li><a href="#quick-overview-register-route-handlers">Register Route Handlers</a></li>
                    <li><a href="#quick-overview-show-the-route-s-page">Show the Route&#39;s Page</a></li>
                    <li><a href="#quick-overview-start-the-router">Start the Router</a></li>
                    <li><a href="#quick-overview-summary">Summary</a></li>
                    <!-- leave foreach block -->
                  </ul>
                </li>
                <li><a href="#creating-links-to-routes">Creating Links to Routes</a><!-- IfBlock placeholder --></li>
                <li><a href="#next-steps">Next Steps</a><!-- IfBlock placeholder --></li>
                <!-- leave foreach block -->
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>
    <!--co-ssr-end-->
  </body>
</html>
